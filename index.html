<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QR Generator</title>

<!-- QR Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
/* ===== RESET ===== */
* {
  box-sizing: border-box;
}

/* ===== BASE ===== */
body {
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #e5e7eb; /* concrete grey */
  font-family: "Segoe UI", Arial, sans-serif;
  color: #111827;
}

/* ===== CARD ===== */
.box {
  background: #ffffff;
  width: 380px;
  padding: 28px;
  border-radius: 6px;
  border-top: 6px solid #1f3a5f; /* steel blue */
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

/* ===== HEADER ===== */
.box h2 {
  margin: 0 0 6px 0;
  text-align: center;
  font-size: 20px;
  letter-spacing: 0.5px;
}

.subtitle {
  text-align: center;
  font-size: 12px;
  color: #6b7280;
  margin-bottom: 20px;
}

/* ===== FORM ===== */
label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  color: #374151;
  display: block;
  margin-top: 14px;
}

input {
  width: 100%;
  padding: 10px 12px;
  margin-top: 6px;
  font-size: 14px;
  border-radius: 4px;
  border: 1px solid #d1d5db;
  outline: none;
}

input:focus {
  border-color: #1f3a5f;
}

/* ===== BUTTON ===== */
button {
  margin-top: 20px;
  width: 100%;
  padding: 12px;
  background: #facc15; /* safety yellow */
  color: #111827;
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.5px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s ease;
}

button:hover {
  background: #eab308;
}

/* ===== PREVIEW ===== */
#preview {
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px dashed #d1d5db;
  text-align: center;
}

#preview canvas {
  background: white;
  padding: 8px;
  border: 1px solid #d1d5db;
}

/* ===== FOOTER NOTE ===== */
.note {
  margin-top: 14px;
  font-size: 11px;
  color: #6b7280;
  text-align: center;
}
</style>
</head>

<body>

<div class="box">
  <h2>QR Code Generator</h2>
  <div class="subtitle">Construction & Engineering Use</div>

  <label for="link">Project / Location Link</label>
  <input id="link" placeholder="https://maps.google.com/..." />

  <label for="name">File Name</label>
  <input id="name" placeholder="site-qr-01" />

  <button onclick="generate()">GENERATE & DOWNLOAD</button>

  <div id="preview"></div>

  <div class="note">
    Optimized for 3cm × 3cm print • Low-density QR
  </div>
</div>

<script>
function generate() {
  const link = document.getElementById("link").value.trim();
  const name = document.getElementById("name").value.trim();

  if (!link || !name) {
    alert("Please fill all fields");
    return;
  }

  const preview = document.getElementById("preview");
  preview.innerHTML = "";

  const qrDiv = document.createElement("div");
  preview.appendChild(qrDiv);

  new QRCode(qrDiv, {
    text: link,
    width: 300,
    height: 300,
    correctLevel: QRCode.CorrectLevel.L
  });

  // Download PNG
  setTimeout(() => {
    const img = qrDiv.querySelector("img");
    if (!img) return;

    const a = document.createElement("a");
    a.href = img.src;
    a.download = `QR-Codes/${name}.png`;
    a.click();
  }, 400);

  // Download SVG
  setTimeout(() => {
    const img = qrDiv.querySelector("img");
    if (!img) return;

    const svg = `
<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300">
  <rect width="100%" height="100%" fill="white"/>
  <image href="${img.src}" width="300" height="300"/>
</svg>
`;

    const blob = new Blob([svg], { type: "image/svg+xml" });
    const url = URL.createObjectURL(blob);

    const svgLink = document.createElement("a");
    svgLink.href = url;
    svgLink.download = `QR-Codes/${name}.svg`;
    svgLink.click();

    URL.revokeObjectURL(url);
  }, 500);
}
</script>

</body>
</html>
